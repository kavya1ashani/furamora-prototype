<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!-- Page title shown in browser tab -->
    <title>Furamora – Owner Dashboard</title>

    <!-- Main stylesheet -->
    <link rel="stylesheet" href="style.css">

    <!-- Google Maps API used for live tracking demo -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCaou2SxWnGxChj_c4BTEM6lSAgR_hYhfo"></script>

    <!-- Responsive layout for mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<!-- When page loads, owner dashboard data is initialised -->
<body class="owner-page" onload="initOwnerDashboard()">

    <!-- Navigation bar (same style as walker dashboard) -->
    <nav class="top-nav">

        <!-- Website name -->
        <div class="nav-left brand-text">FURAMORA</div>

        <!-- Logo linking back to home -->
        <div class="nav-center">
            <a href="home.html" class="logo-link">
                <img src="images/logo.png" alt="Furamora logo" class="logo-image">
            </a>
        </div>

        <!-- Navigation links -->
        <div class="nav-right nav-links">
            <a href="home.html">Home</a>
            <!-- Logout redirects back to login page -->
            <a href="index.html" class="nav-cta">Logout</a>
        </div>
    </nav>

    <main class="owner-main">

        <!-- Page heading -->
        <h2 class="owner-title">Owner Dashboard</h2>
        <p class="owner-subtitle">Welcome, Pet Owner</p>

        <!-- Main layout split into left and right sections -->
        <div class="owner-layout">

            <!-- ================= LEFT SIDE: PROFILE + PETS ================= -->
            <section class="owner-section">
                <h3>Owner Profile</h3>

                <!-- Form for updating owner profile details -->
                <form id="owner-profile-form">
                    <label for="owner-name">Your Name</label>
                    <input type="text" id="owner-name" placeholder="Enter your name">

                    <label for="owner-phone">Phone Number</label>
                    <input type="text" id="owner-phone" placeholder="Enter phone number">
                </form>

                <!-- Buttons to save or edit profile -->
                <div class="profile-actions">
                    <button type="button" id="save-profile-btn" onclick="saveOwnerProfile()">
                        Save Profile
                    </button>

                    <!-- Edit button only appears after saving -->
                    <button type="button"
                            id="edit-profile-btn"
                            class="link-button"
                            onclick="enableProfileEdit()"
                            style="display: none;">
                        Edit profile
                    </button>
                </div>

                <!-- Walk reports displayed under profile -->
                <div class="reports-block">
                    <h3 class="section-spacing">Your Walk Reports</h3>

                    <!-- This list will be filled dynamically using JS -->
                    <div id="owner-reports" class="data-list">
                        <p class="placeholder-text">No walk reports yet.</p>
                    </div>
                </div>

                <!-- Pet management section -->
                <h3 class="section-spacing">Your Pets</h3>

                <!-- Form to add a new pet -->
                <form>
                    <label for="pet-name">Pet Name</label>
                    <input type="text" id="pet-name" placeholder="e.g. Bella">

                    <label for="pet-type">Pet Type</label>
                    <input type="text" id="pet-type" placeholder="e.g. Labrador">

                    <label for="pet-notes">Notes</label>
                    <input type="text" id="pet-notes" placeholder="e.g. nervous with traffic">

                    <!-- Calls addPet() function -->
                    <button type="button" onclick="addPet()">
                        Add Pet
                    </button>
                </form>

                <!-- List of pets generated dynamically -->
                <div id="pet-list" class="data-list"></div>
            </section>

            <!-- ================= RIGHT SIDE: BOOKINGS ================= -->
            <section class="owner-section">
                <h3>Create a Booking</h3>

                <!-- Booking form -->
                <form>
                    <label for="booking-service">Service Type</label>
                    <select id="booking-service">
                        <option>Dog Walk</option>
                        <option>Drop-in Visit</option>
                    </select>

                    <label for="booking-date">Date</label>
                    <input type="date" id="booking-date">

                    <label for="booking-time">Time</label>
                    <input type="time" id="booking-time">

                    <!-- Calls saveBooking() -->
                    <button type="button" onclick="saveBooking()">
                        Submit Booking
                    </button>
                </form>

                <!-- Available walkers list -->
                <h3 class="section-spacing">Available Dog Walkers</h3>

                <label for="distance-filter">Filter by distance</label>

                <!-- Distance filter + search button -->
                <div class="filter-row">
                    <select id="distance-filter">
                        <option value="">Show all</option>
                        <option value="1">Within 1 km</option>
                        <option value="3">Within 3 km</option>
                        <option value="5">Within 5 km</option>
                    </select>

                    <!-- Applies filter using JS -->
                    <button type="button" class="filter-btn" onclick="applyWalkerFilter()">
                        Search
                    </button>
                </div>

                <!-- Dynamic walker list -->
                <div id="walker-list" class="data-list"></div>
            </section>

        </div>

        <!-- Latest report section outside main cards -->
        <section class="owner-latest-report">
            <h3>Latest Walk Report</h3>
            <p>
                <!-- Links to separate report page -->
                <a href="report.html" class="inline-link">View latest report</a>
            </p>
        </section>

        <!-- Live tracking map (demo feature) -->
        <h3>Live Walk Tracking (Demo)</h3>
        <div id="live-map" style="height:300px;"></div>

    </main>

    <!-- Main JavaScript file -->
    <script src="script.js"></script>

    <!-- Footer -->
    <footer class="footer">
        <p>© 2026 Furamora – Prototype developed for BSc Computer Science</p>
    </footer>

</body>
</html>
